
<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="UTF-8">
<title>Sara Ferro W. – poetessa</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="Sara Ferro W. (11/5/1977, Milano) è di studi sociologa magistrale sebbene imprestata alla germanistica che appunto frequenta dai tempi accademici in gran parte trascorsi a Berlino. È stata la prima con "Venere in Pesci" e "La Pagana" a tradurre Max Mohr scoprendolo durante un soggiorno monacense in un negozio d’antiquariato librario; da allora si dedica alla sua opera continuando a tradurne romanzi e commedie proprio perché si sente chiamata a farlo da una speciale affinità elettiva con lo scrittore. 

Studiosa del clima culturale tedesco anche del primo novecento, lo scrittore bavarese le offre di continuo assist per afferrarne un qualche scampolo di senso o nonsenso in più. Gli spaccati su ambienti sociali di nicchia e di fuoriusciti forniti dalla scrittura finemente sardonica di Mohr le sono congeniali quanto un poderoso trattato sociologico con inoltre la poeticità.

Il suo primo poemetto è "Sineddoche Torino", prima parte della trilogia GE-MI-TO - parti seconda e terza in lavorazione.">
<meta name="robots" content="index, follow">
<meta name="author" content="Sara Ferro W.">
<link href="https://fonts.googleapis.com/css2?family=Orbitron&display=swap" rel="stylesheet">
<style>

</style>

<link rel="icon" href="media/favicon.jpg">
  <link rel="shortcut icon" href="media/favicon.jpg">
<meta property="og:image" content="media/social.jpeg">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/uikit@3.21.6/dist/css/uikit.min.css" />
<style>
.live-paragraph { font-size: 1.13rem; max-width: 40em; margin-left:auto; margin-right:auto;}

/* Simple 3-size system for text blocks */
.live-heading.h-sm { font-size: 2.2rem; line-height: 1.15; }
.live-heading.h-md { font-size: 3.2rem; line-height: 1.12; }
.live-heading.h-lg { font-size: 4.2rem; line-height: 1.08; }

.live-subtitle.sub-sm { font-size: 1.1rem; font-weight: 500; }
.live-subtitle.sub-md { font-size: 1.35rem; font-weight: 500; }
.live-subtitle.sub-lg { font-size: 1.7rem; font-weight: 500; }

.live-paragraph.p-sm { font-size: 1.0rem; }
.live-paragraph.p-md { font-size: 1.13rem; }
.live-paragraph.p-lg { font-size: 1.30rem; }

@media (max-width: 640px) {
.live-heading.h-lg { font-size: 2.6rem; }
.live-heading.h-md { font-size: 2.0rem; }
.live-heading.h-sm { font-size: 1.6rem; }

.live-subtitle.sub-lg { font-size: 1.2rem; }
.live-subtitle.sub-md { font-size: 1.05rem; }
.live-subtitle.sub-sm { font-size: 0.95rem; }

.live-paragraph.p-lg { font-size: 1.05rem; }
.live-paragraph.p-md { font-size: 0.98rem; }
.live-paragraph.p-sm { font-size: 0.92rem; }
}

.live-paragraph.uk-text-large { font-size: 1.45rem; }
@media (max-width: 640px) {
.live-paragraph { font-size: 1rem;}
.live-paragraph.uk-text-large { font-size: 1.1rem;}
}
/* Make exported images/videos responsive */
img, video {
max-width: 100%;
height: auto;
display: block;
}

@media (max-width: 640px) {
.live-heading, .live-subtitle, .live-paragraph {
text-align: center !important;
word-break: break-word;
white-space: normal;
}
}
.navbar-scroll { display:flex; flex-wrap:nowrap; gap:1rem; overflow-x:auto; white-space:nowrap; -webkit-overflow-scrolling:touch; padding:0.5rem 1rem; align-items:center; list-style:none; margin:0; }
.navbar-scroll a { flex:0 0 auto; text-decoration:none; color:inherit; }
.navbar-scroll a.uk-active { font-weight:bold; border-bottom:2px solid currentColor; }
  
.navbar-logo {
height: 40px !important;
width: auto !important;
max-height: 40px !important;
object-fit: contain;
flex-shrink: 0 !important;
flex-grow: 0 !important;
}

.navbar-scroll {
display: flex;
flex-wrap: nowrap;
overflow-x: auto;
-webkit-overflow-scrolling: touch;
white-space: nowrap;
gap: 1rem;
padding: 0.5rem 1rem;
}
.navbar-scroll li {
flex: 0 0 auto;
list-style: none;
}

.visually-hidden {
position: absolute !important;
width: 1px; height: 1px;
margin: -1px; padding: 0; border: 0;
overflow: hidden; clip: rect(0 0 0 0); clip-path: inset(50%);
white-space: nowrap;
}

:root {
--navbar-link-color: #000000;
}

.navbar-scroll::-webkit-scrollbar {
height: 6px;
}
.navbar-scroll::-webkit-scrollbar-thumb {
background: var(--navbar-link-color);
border-radius: 3px;
}
.navbar-scroll::-webkit-scrollbar-track {
background: var(--gray, #eee);
}


.navbar-scroll {
-ms-overflow-style: none;  /* IE & Edge */
scrollbar-width: none;     /* Firefox */
}
.navbar-scroll::-webkit-scrollbar {
display: none;             /* Chrome, Safari, Opera */
}

/* ========================================================================
Button 
========================================================================== */

/* Primary Button */
.uk-button-primary {
background-color: #000;
color: #fff;
}

/* Primary Button Hover */
.uk-button-primary:hover {
background-color: #000;
color: #fff;
}

/* Primary Button Active */
.uk-button-primary:active,
.uk-button-primary.uk-active {
background-color: #000;
color: #fff;
}

/* Secondary Button */
.uk-button-secondary {
background-color: #000;
color: #fff;
border: 1px solid transparent;
}

/* Secondary Button Hover */
.uk-button-secondary:hover {
background-color: #fff;
color: #000;
}

/* Secondary Button Active */
.uk-button-secondary:active,
.uk-button-secondary.uk-active {
background-color: #000;
color: #fff;
}

/* Contextual Secondary Button Overrides for UIkit Sections/Cards/Overlay */
.uk-light .uk-button-secondary,
.uk-section-primary:not(.uk-preserve-color) .uk-button-secondary,
.uk-section-secondary:not(.uk-preserve-color) .uk-button-secondary,
.uk-tile-primary:not(.uk-preserve-color) .uk-button-secondary,
.uk-tile-secondary:not(.uk-preserve-color) .uk-button-secondary,
.uk-card-primary.uk-card-body .uk-button-secondary,
.uk-card-primary > :not([class*='uk-card-media']) .uk-button-secondary,
.uk-card-secondary.uk-card-body .uk-button-secondary,
.uk-card-secondary > :not([class*='uk-card-media']) .uk-button-secondary,
.uk-overlay-primary .uk-button-secondary,
.uk-offcanvas-bar .uk-button-secondary {
background-color: #000;
color: #fff;
}

/* ========================================================================
Links
========================================================================== */

.uk-link {
text-decoration: underline;
cursor: pointer;
}

.uk-link:hover,
.uk-link-toggle:hover .uk-link {
text-decoration: none;
}

/* ========================================================================
Lightbox
========================================================================== */

.uk-lightbox-button {
box-sizing: border-box;
width: 50px;
height: 50px;
background: rgba(0, 0, 0, 0.3);
color: rgba(255, 255, 255, 0.7);
border-radius: 100%;
/* 1 */
display: inline-flex;
justify-content: center;
align-items: center;
}

.uk-lightbox-iframe {
width: 90%;
height: 90%;
border: 0px solid black;
border-radius: 0; /* Default: no rounding for Chrome, Brave, etc. */
}

/* Safari-only override */
@supports (-webkit-hyphens: none) and (not (-moz-appearance: none)) {
.uk-lightbox-iframe {
border-radius: 25px;
}
}

.uk-lightbox-toolbar {
padding: 5px 5px;
background: transparent;
color: rgba(255, 255, 255, 0.7);
}
.uk-lightbox-toolbar > * {
color: rgba(255, 255, 255, 0.7);
}

.uk-lightbox-toolbar-icon {
box-sizing: border-box;
width: 50px;
height: 50px;
background: #000;
color: #fff;
border-radius: 100%;
/* 1 */
display: inline-flex;
justify-content: center;
align-items: center;
}

/* ===== keep only the close button always visible (preserve exact look) ===== */

/* wide selector to match common UIkit close button variants */
.uk-lightbox .uk-lightbox-button.uk-close,
.uk-lightbox .uk-lightbox-button.uk-close svg,
.uk-lightbox .uk-close,
.uk-lightbox [data-uk-close],
.uk-lightbox [data-uk-close] > * {
/* DO NOT change visual properties (width/height/background/color/border-radius/flex)
— we only override visibility/stacking/interaction and remove hide transforms. */
position: fixed !important;        /* remove from hidden parent so it stays visible */
top: 5px !important;               /* align with toolbar padding — preserves placement */
right: 5px !important;             /* align with toolbar padding */
z-index: 999999 !important;        /* above overlays */
display: inline-flex !important;   /* keep your inline-flex layout */
opacity: 0.7 !important;             /* force fully visible */
visibility: visible !important;    /* force visible */
pointer-events: auto !important;   /* clickable even if parent is disabled */
transform: none !important;        /* cancel hide transforms */
transition: none !important;       /* prevent fade-out transitions */
animation: none !important;        /* stop any hiding animations */
}

/* If UIkit sets helper classes, undo them for close only */
.uk-lightbox .uk-lightbox-button.uk-close.uk-hidden,
.uk-lightbox .uk-lightbox-button.uk-close.uk-invisible,
.uk-lightbox .uk-close.uk-hidden,
.uk-lightbox .uk-close.uk-invisible,
.uk-lightbox [data-uk-close].uk-hidden,
.uk-lightbox [data-uk-close].uk-invisible {
display: inline-flex !important;
opacity: 0.7 !important;
visibility: visible !important;
pointer-events: auto !important;
}

/* keep SVG/icon inside intact (do not change color/size) */
.uk-lightbox .uk-lightbox-button.uk-close svg,
.uk-lightbox .uk-close svg {
position: static !important;
width: auto !important;
height: auto !important;
}

/* mobile tweak to avoid overlap while preserving look (keeps same size) */
@media (max-width: 480px) {
.uk-lightbox .uk-lightbox-button.uk-close,
.uk-lightbox .uk-close,
.uk-lightbox [data-uk-close] {
top: 8px !important;
right: 8px !important;
}
}

/* ========================================================================
Slider
========================================================================== */

.uk-slidenav {
padding: 5px 10px;
color: rgba(102, 102, 102, 0.5);
transition: color 0.1s ease-in-out;
width: 50px;
height: 50px;
background: rgba(0, 0, 0, 0.3);
color: rgba(255, 255, 255, 0.7);
border-radius: 100%;
display: inline-flex;
justify-content: center;
align-items: center;

}

/* ========================================================================
Additional CSS:
========================================================================== */

html {
-webkit-tap-highlight-color: rgba(0, 0, 0, 0);
}

button:focus,
button:active {
-moz-outline: 0 !important;
-ms-outline:0 !important;
-o-outline: 0 !important;
-webkit-outline: 0 !important;
}

.uk-border-rounded {
border-radius: 25px;
}

/* ============================
Dynamic Navbar & Mobile Menu
=========================== */

/* ---------- Mobile + Tablet: up to 1024px ---------- */
@media (max-width: 1024px) {

  /* --- Navbar container --- */
  #dynamic-navbar-container,
  nav.uk-navbar-container {
    display: flex;
    align-items: center;
    justify-content: flex-start; /* keep logo on left */
    width: 100%;
    min-height: 60px;
    background-color: var(--navbar-bg-color, #fff);
    position: relative;
    z-index: 1;
  }

  /* --- Navbar UL --- */
  #dynamic-navbar-container ul.navbar-scroll,
  nav.uk-navbar-container ul.navbar-scroll {
    display: flex;
    align-items: center;
    margin: 0;
    padding: 0;
  }

  /* --- Hide all text links, keep layout --- */
  #dynamic-navbar-container ul.navbar-scroll a:not(:has(img)),
  nav.uk-navbar-container ul.navbar-scroll a:not(:has(img)) {
    visibility: hidden;       /* hides but keeps space */
    pointer-events: none;     /* prevents clicks */
    height: 0;                /* optional: collapse vertical space */
    margin: 0;
    padding: 0;
  }

  /* --- Logo link visible --- */
  #dynamic-navbar-container ul.navbar-scroll a:has(img),
  nav.uk-navbar-container ul.navbar-scroll a:has(img) {
    visibility: visible;
    pointer-events: auto;
  }

  /* --- Logo image styling --- */
  #dynamic-navbar-container ul.navbar-scroll a:has(img) img,
  nav.uk-navbar-container ul.navbar-scroll a:has(img) img {
    display: block;
    max-height: 40px;
    width: auto;
  }

/* --- Logo image spacing --- */
#dynamic-navbar-container ul.navbar-scroll a:has(img) img,
nav.uk-navbar-container ul.navbar-scroll a:has(img) img {
    display: block;
    max-height: 40px;
    width: auto;
    margin-left: 10px; /* move logo 10px from left without breaking flex alignment */
}

  /* --- Mobile Menu Toggle (Hamburger) --- */
  #mobile-menu-toggle {
    display: flex;
    position: fixed;
    top: 12.5px;
    right: 10px;
    width: 40px;
    height: 40px;
    cursor: pointer;
    align-items: center;
    justify-content: center;
    z-index: 9999;
    isolation: isolate;
    background: transparent;
  }

  #mobile-menu-toggle .bar {
    width: 30px;
    height: 2px;
    background-color: var(--navbar-link-color, #000);
    position: absolute;
    border-radius: 1px;
    transition: all 0.4s ease;
    z-index: 2;
  }

  #mobile-menu-toggle .bar1 { top: 12px; }
  #mobile-menu-toggle .bar2 { top: 22px; }

  #mobile-menu-toggle.open .bar1 {
    top: 50%;
    transform: translateY(-50%) rotate(45deg);
  }

  #mobile-menu-toggle.open .bar2 {
    top: 50%;
    transform: translateY(-50%) rotate(-45deg);
  }

  /* --- Mobile Menu Panel --- */
  #mobile-menu {
    display: none;
    position: fixed;
    top: 60px;
    left: 0;
    width: 100%;
    background-color: var(--navbar-bg-color, #fff);
    color: var(--navbar-text-color, #000);
    padding: 1rem 0;
    flex-direction: column;
    align-items: center;
    text-align: center;
    z-index: 9998;
  }

  #mobile-menu.show {
    display: flex !important;
  }

  #mobile-menu a {
    display: block;
    width: 100%;
    margin: 0.5rem 0;
    padding: 0.5rem 1.25rem;
    text-align: center;
    white-space: normal;
    word-break: break-word;
    overflow-wrap: break-word;
    color: var(--navbar-text-color, #000);
    text-decoration: none;
    background: transparent;
  }

  /* Hide logo in mobile menu (optional) */
  #mobile-menu .navbar-logo { display: none; }
}

/* ---------- Large screens: 1025px and above ---------- */
@media (min-width: 1025px) {
  #mobile-menu-toggle { display: none !important; }
  #mobile-menu { display: none; }

  /* Navbar container */
  #dynamic-navbar-container,
  nav.uk-navbar-container {
    display: flex;
    align-items: center;
    justify-content: flex-start;
    width: 100%;
    min-height: 60px;
    background-color: var(--navbar-bg-color, #fff);
    position: relative;
    z-index: 1;
  }

  /* Navbar links visible */
  #dynamic-navbar-container ul.navbar-scroll a,
  nav.uk-navbar-container ul.navbar-scroll a {
    display: inline-block !important;
    visibility: visible !important;
    height: auto !important;
    margin: initial;
    padding: initial;
    text-decoration: none;
  }
}

#dynamic-navbar-container .navbar-scroll a:has(img) {
  text-decoration: none !important;
  border-bottom: none !important;
}

</style>


<link id="custom-font-link" rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Orbitron&amp;display=swap">
<style id="export-font-css"></style>


</head>
<body class="uk-background-muted" id="top">
<h1 id="site-title-h1" class="visually-hidden">Sara Ferro W. – poetessa</h1>


<section id="section-0" class="uk-section uk-section-primary uk-flex uk-flex-middle uk-flex-center" uk-height-viewport="offset-top: true" style="background:#000000;min-height:60vh;padding:0;margin:0;">

<div style="position:relative; width:100%; height:100vh; margin:0; padding:0; background:#000000;">
<iframe srcdoc="<!-- Google Lacquer Font (ADDED) -->
<link rel=&quot;preconnect&quot; href=&quot;https://fonts.googleapis.com&quot;>
<link rel=&quot;preconnect&quot; href=&quot;https://fonts.gstatic.com&quot; crossorigin>
<link href=&quot;https://fonts.googleapis.com/css2?family=Lacquer&display=swap&quot; rel=&quot;stylesheet&quot;>

<style>
html,body{margin:0;padding:0;background:#000;overflow:hidden;touch-action:none;}
#bgCanvas{position:fixed;inset:0;z-index:-10;pointer-events:none;}
#bgCanvas canvas{position:fixed;top:0;left:0;width:100%;height:100%;display:block;filter:blur(0.6px) contrast(1.05);}
body{color:#fff;}
.hero{position:fixed;top:10vh;left:50%;transform:translateX(-50%);z-index:50;text-align:center;pointer-events:none;}
h1{font-size:48px;font-weight:800;letter-spacing:1px;background:linear-gradient(90deg,#ff6b9f,#7afcff,#ffd36b);-webkit-background-clip:text;background-clip:text;color:transparent;text-shadow:0 6px 18px rgba(0,0,0,0.5);}
h2{margin-top:6px;font-weight:300;font-size:24px;opacity:0.9;letter-spacing:3px;text-transform:uppercase;}
</style>
</head>
<body>

<div class=&quot;hero&quot;>
  <h1 style=&quot;font-family:'Lacquer', cursive;&quot;>Sara Ferro W.</h1>
  <h2 style=&quot;font-family:'Lacquer', cursive;&quot;>poetessa</h2>
  <img src=&quot;./sara-ferro-w.jpeg&quot; height=&quot;400px;&quot;style=&quot;border-radius:25px;&quot;>
</div>

<div id=&quot;bgCanvas&quot;><canvas id=&quot;mainCanvas&quot;></canvas></div>

<script>
(function(){
  const canvas = document.getElementById(&quot;mainCanvas&quot;);
  const ctx = canvas.getContext(&quot;2d&quot;);
  function resize(){canvas.width = window.innerWidth; canvas.height = window.innerHeight;}
  resize();
  window.addEventListener('resize', resize);

  let time=0;
  const words=[&quot;amore&quot;,&quot;luna&quot;,&quot;sogno&quot;,&quot;verso&quot;,&quot;vento&quot;,&quot;eco&quot;,&quot;silenzio&quot;,&quot;cuore&quot;,&quot;poesia&quot;,&quot;notte&quot;,&quot;stelle&quot;,&quot;fiamma&quot;,&quot;memoria&quot;,&quot;rima&quot;,&quot;incanto&quot;,&quot;ambra&quot;,&quot;onde&quot;,&quot;filo&quot;,&quot;aria&quot;,&quot;ombra&quot;];

  const density = window.innerWidth < 768 ? 90 : 180;
  const floating=[];
  for(let i=0;i<density;i++){
    floating.push({
      x:Math.random()*canvas.width,
      y:Math.random()*canvas.height,
      vx:(Math.random()-0.5)*0.16,
      vy:0.22+Math.random()*0.44,
      size:12+Math.random()*48,
      word:words[Math.floor(Math.random()*words.length)],
      color:'#fff',
      alpha:0,
      phase:Math.random()*Math.PI*2
    });
  }

  const mergePoints = [];
  function addMergePoint(x, y){
    mergePoints.push({x, y, radius:0, life:30});
  }

  window.addEventListener('mousemove', e => { addMergePoint(e.clientX, e.clientY); });
  canvas.addEventListener('touchstart', e => { e.preventDefault(); const t = e.touches[0]; addMergePoint(t.clientX, t.clientY); });
  canvas.addEventListener('touchmove', e => { e.preventDefault(); const t = e.touches[0]; addMergePoint(t.clientX, t.clientY); });

  function drawFloating(t){
    for(let i=0;i<floating.length;i++){
      const f=floating[i];

      mergePoints.forEach(mp => {
        const dx = mp.x - f.x;
        const dy = mp.y - f.y;
        const dist = Math.sqrt(dx*dx + dy*dy);
        if(dist < 150){
          const angle = Math.atan2(dy, dx);
          f.vx += Math.cos(angle)*0.02;
          f.vy += Math.sin(angle)*0.02;
        }
      });

      f.x += f.vx + Math.sin(t/850 + f.phase)*0.075;
      f.y += f.vy + Math.cos(t/750 + f.phase)*0.075;

      if(f.x>canvas.width) f.x=0;
      if(f.y>canvas.height) f.y=0;
      if(f.x<0) f.x=canvas.width;
      if(f.y<0) f.y=canvas.height;

      f.alpha = 0.14 + 0.5*Math.abs(Math.sin(t/600 + f.phase));
      ctx.save();
      ctx.globalAlpha=f.alpha;
      ctx.font=`${f.size}px 'Lacquer', cursive`;
      ctx.textAlign='center';
      const colorGrad = ctx.createLinearGradient(f.x-f.size,f.y-f.size,f.x+f.size,f.y+f.size);
      colorGrad.addColorStop(0,'#ff6b9f');
      colorGrad.addColorStop(0.5,'#7afcff');
      colorGrad.addColorStop(1,'#ffd36b');
      ctx.fillStyle=colorGrad;
      ctx.fillText(f.word,f.x,f.y);
      ctx.restore();
    }

    for(let i=mergePoints.length-1;i>=0;i--){
      mergePoints[i].radius += 2;
      mergePoints[i].life -=1;
      if(mergePoints[i].life <=0) mergePoints.splice(i,1);
    }
  }

  function maybeFlash(t){
    if(Math.random()<0.008){
      const f=floating[Math.floor(Math.random()*floating.length)];
      ctx.save();
      ctx.globalAlpha=0.32+Math.random()*0.2;
      ctx.font=&quot;72px 'Lacquer', cursive&quot;;
      ctx.textAlign='center';
      ctx.fillStyle='#ff5555';
      ctx.fillText(f.word,f.x,f.y);
      ctx.restore();
    }
  }

  function render(t){
    time=t;
    ctx.fillStyle='rgba(0,0,0,0.06)';
    ctx.fillRect(0,0,canvas.width,canvas.height);
    drawFloating(t);
    maybeFlash(t);
    ctx.globalAlpha=0.03;
    ctx.fillStyle='rgba(255,255,255,0.03)';
    ctx.fillRect(0,0,canvas.width,canvas.height);
    ctx.globalAlpha=1;
    requestAnimationFrame(render);
  }

  requestAnimationFrame(render);
})();
</script>" 
style="position:absolute; top:0; left:0; width:100%; height:100%; border:none; margin:0; padding:0; overflow:hidden;" 
sandbox="allow-scripts allow-same-origin allow-forms allow-popups">
</iframe>
</div>

</section>

<footer class="uk-section uk-section-small" 
style="background:#000000; color:#ffffff; text-align:center;">
<div class="footer-social" style="margin-bottom:10px;"><a href="https://www.amazon.it/stores/author/B0D3CN5SCD/about" uk-icon="icon: bag; ratio: 1.5" target="_blank" style="margin:0 8px; color:#ffffff"></a><a href="https://saraferro.com" uk-icon="icon: link-external; ratio: 1.5" target="_blank" style="margin:0 8px; color:#ffffff"></a></div>
<p><strong>Sara Ferro W. – poetessa</strong></p>

<p>&copy; 2026 Sara Ferro W.</p>
</footer>
<script src="https://cdn.jsdelivr.net/npm/uikit@3.21.6/dist/js/uikit.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/uikit@3.21.6/dist/js/uikit-icons.min.js"></script>
<script>
document.addEventListener('DOMContentLoaded', () => {
  const mobileMenuToggle = document.getElementById('mobile-menu-toggle');
  const mobileMenu = document.getElementById('mobile-menu');

  // Detect navbar container dynamically
  let dynamicNavContainer = document.getElementById('dynamic-navbar-container');
  if (!dynamicNavContainer) {
    // fallback for Preview / Export
    dynamicNavContainer = document.querySelector('nav.uk-navbar-container');
  }
  if (!dynamicNavContainer) return; // no navbar found

  let menuBuilt = false;

  // Helpers
  const isSmallScreen = () => window.innerWidth <= 1024;
  const isMenuOpen = () => mobileMenu.classList.contains('show');

  const isNavbarEnabled = () => {
    // Editor: checkbox enabled
    const enableNavbarCheckbox = document.getElementById('enable-navbar');
    return enableNavbarCheckbox ? enableNavbarCheckbox.checked : true; // Preview: always enabled
  };

  // Populate mobile menu
  function populateMobileMenu(force = false) {
    if (!force && (menuBuilt || isMenuOpen())) return;

    const nav = dynamicNavContainer.querySelector('ul.navbar-scroll');
    if (!nav || !mobileMenu) return;

    // Update colors
    const navbarBg = getComputedStyle(nav.parentElement || nav).backgroundColor;
    const navbarText = getComputedStyle(nav).color;
    document.documentElement.style.setProperty('--navbar-bg-color', navbarBg);
    document.documentElement.style.setProperty('--navbar-text-color', navbarText);
    document.documentElement.style.setProperty('--navbar-link-color', navbarText);

    const fragment = document.createDocumentFragment();
    mobileMenu.innerHTML = '';

    nav.querySelectorAll('a').forEach(link => {
      const clone = link.cloneNode(true);
      clone.removeAttribute('id');

      clone.addEventListener('click', e => {
        e.stopPropagation();
        closeMobileMenu();
      });

      fragment.appendChild(clone);
    });

    mobileMenu.appendChild(fragment);
    menuBuilt = true;
  }

  // Open / Close Menu
  function openMobileMenu() {
    populateMobileMenu(true);
    mobileMenu.classList.add('show');
    mobileMenuToggle.classList.add('open');
    mobileMenu.setAttribute('aria-hidden', 'false');
  }

  function closeMobileMenu() {
    mobileMenu.classList.remove('show');
    mobileMenuToggle.classList.remove('open');
    mobileMenu.setAttribute('aria-hidden', 'true');
    setTimeout(() => {
      menuBuilt = false; // rebuild next time
    }, 350); // match CSS transition
  }

  // Update visibility
  function updateMobileMenuVisibility() {
    if (isNavbarEnabled() && isSmallScreen()) {
      mobileMenuToggle.style.display = 'flex';
    } else {
      mobileMenuToggle.style.display = 'none';
      closeMobileMenu();
    }
  }

  // MutationObserver to detect dynamic changes in navbar
  if (dynamicNavContainer) {
    const observer = new MutationObserver(() => {
      if (isMenuOpen()) return;
      menuBuilt = false;
      populateMobileMenu(true);
    });
    observer.observe(dynamicNavContainer, { childList: true, subtree: false });
  }

  // Events
  mobileMenuToggle.addEventListener('click', () => {
    isMenuOpen() ? closeMobileMenu() : openMobileMenu();
  });
  window.addEventListener('resize', updateMobileMenuVisibility);

  const enableNavbarCheckbox = document.getElementById('enable-navbar');
  enableNavbarCheckbox?.addEventListener('change', () => {
    menuBuilt = false;
    populateMobileMenu(true);
    updateMobileMenuVisibility();
  });

  // Initial setup
  populateMobileMenu(true);
  updateMobileMenuVisibility();
});
</script>

</body>
</html>
